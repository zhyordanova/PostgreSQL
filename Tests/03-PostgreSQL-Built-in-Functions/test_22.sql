-- Solution skeleton
CREATE TABLE IF NOT EXISTS bookings (
  "id" SERIAL PRIMARY KEY,
  user_id INT NOT NULL,
  starts_at TIMESTAMPTZ DEFAULT NULL,
  booked_at TIMESTAMPTZ DEFAULT NULL,
  booked_for INT NOT NULL,
  apartment_id INT NOT NULL,
  confirmed INT,
  CONSTRAINT bookings_user_id_check CHECK (user_id >= 0),
  CONSTRAINT bookings_booked_for_check CHECK (booked_for >= 0),
  CONSTRAINT bookings_apartment_id_check CHECK (apartment_id >= 0),
  CONSTRAINT bookings_confirmed_check CHECK (confirmed = 0 OR confirmed = 1)
);


-- Input
INSERT INTO bookings (
	user_id, starts_at, booked_at, booked_for, apartment_id, confirmed
) 
VALUES 	
	 (125,'2021-11-19T13:22:09.767Z','2021-10-16T08:08:59.839Z',1,32,0),
	 (97,'2022-11-18T22:38:13.126Z','2022-10-17T12:31:05.411Z',5,32,0),
	 (8,'2023-11-18T16:08:18.545Z','2023-10-15T00:16:44.889Z',11,98,0),
	 (63,'2021-11-18T22:55:58.485Z','2021-01-10T03:25:37.954Z',4,56,0),
	 (28,'2020-11-19T07:09:25.341Z','2020-05-17T20:01:02.244Z',4,32,1),
	 (99,'2021-11-18T18:19:47.775Z','2021-04-09T09:52:51.470Z',2,76,1),
	 (50,'2021-11-19T14:20:22.366Z','2021-03-05T05:56:31.594Z',18,72,0),
	 (42,'2021-11-18T18:24:52.359Z','2021-07-02T09:02:52.730Z',5,27,0),
	 (5,'2020-11-18T21:04:38.236Z','2020-09-03T04:00:13.990Z',11,63,1),
	 (78,'2021-11-18T16:24:30.166Z','2021-02-11T15:57:27.186Z',2,15,0),
	 (25,'2021-11-18T19:01:52.203Z','2021-11-10T04:02:39.879Z',9,32,1),
	 (76,'2021-11-19T10:08:06.996Z','2021-11-15T09:55:59.415Z',8,24,1),
	 (32,'2021-11-18T22:20:31.058Z','2021-11-01T10:44:41.549Z',6,160,1),
	 (53,'2021-11-19T02:14:24.065Z','2021-11-05T16:29:45.949Z',7,137,0),
	 (116,'2021-11-18T21:20:34.042Z','2021-11-12T02:20:27.251Z',8,18,0),
	 (42,'2022-11-19T09:45:45.037Z','2022-10-18T06:18:53.373Z',13,101,0),
	 (101,'2021-11-19T11:03:09.775Z','2021-03-18T01:28:31.484Z',4,132,0),
	 (15,'2021-11-18T15:29:27.426Z','2021-02-18T10:15:02.804Z',12,113,1),
	 (116,'2021-11-19T03:20:08.763Z','2021-06-18T01:47:13.971Z',11,123,1),
	 (85,'2023-11-18T15:27:01.805Z','2023-11-17T18:53:46.066Z',8,100,1);
	 
	 
-- Output
2021
10
16
8
8
60
2022
10
17
12
31
6
2023
10
15
0
16
45
2021
1
10
3
25
38
2020
5
17
20
1
3
2021
4
9
9
52
52
2021
3
5
5
56
32
2021
7
2
9
2
53
2020
9
3
4
0
14
2021
2
11
15
57
28
2021
11
10
4
2
40
2021
11
15
9
55
60
2021
11
1
10
44
42
2021
11
5
16
29
46
2021
11
12
2
20
28
2022
10
18
6
18
54
2021
3
18
1
28
32
2021
2
18
10
15
3
2021
6
18
1
47
14
2023
11
17
18
53
47